<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
    <script>
      //POTEKA Web-APIからリクエスト
      var request = new XMLHttpRequest();
      request.open('GET', 'http://api.potekanet.com/v1/point/real/ja/poteka?potekaId=555&element=temp,humi,weather,wind_s', true);
      request.responseType = 'json';
      request.setRequestHeader('X-POTEKA-Authorization','c2VuZGFpLW5jdDpmZzd6dm1wWQ==');
      request.onload = function () {
        data = this.response;
        console.log(JSON.stringify(data));
      };
      request.send();
      setTimeout(dom,1200);
      function dom(){
        var element = document.createElement("p");
        var temp = data.poteka[0].element[0].dataList[0].value;
        element.innerHTML = "温度："+temp+"℃";
        element.setAttribute("id","temp");
        document.body.appendChild(element);

        var element2 = document.createElement("p");
        var humi = data.poteka[0].element[1].dataList[0].value;
        element2.innerHTML = "湿度："+humi+"%";
        element2.setAttribute("id","humi");
        document.body.appendChild(element2);
      }
    </script>
  </body>
</html>
